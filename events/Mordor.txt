add_namespace = mordor

country_event = { #Предыстория_Мордора

	id = mordor.0 
        title = mordor.0.t
        desc = mordor.0.d
	picture = GFX_report_event_dkr_sauron_smeshnyavka

	is_triggered_only = yes
	
	option = {
		name = mordor.0.a
	}
}
country_event = { #Идеи_Саурона

	id = mordor.1
        title = mordor.1.t
        desc = mordor.1.d
	picture = GFX_report_event_dkr_oko_saurona

	is_triggered_only = yes
	
	option = {
		name = mordor.1.a
	}
}
country_event = { #Идеи_Сарумяна

	id = mordor.2
        title = mordor.2.t
        desc = mordor.2.d
	picture = GFX_report_event_dkr_sarumyan

	is_triggered_only = yes
	
	option = {
		name = mordor.2.a
		hidden_effect = {
			add_to_variable = { MRD_production_factory_start_efficiency_factor = 0.1 }
			add_to_variable = { MRD_production_lack_of_resource_penalty_factor = 0.25 }
			add_to_variable = { MRD_industrial_capacity_factory = 0.5 }
		}
		custom_effect_tooltip = MRD_1_production_factory_start_efficiency_factor_tt
		custom_effect_tooltip = MRD_2_production_lack_of_resource_penalty_factor_tt
		custom_effect_tooltip = MRD_3_industrial_capacity_factory_tt
	}
}
country_event = { #Начинаем_с_дачников

	id = mordor.3
        title = mordor.3.t
        desc = mordor.3.d
	picture = GFX_report_event_dkr_sauron_hvatka

	is_triggered_only = yes
	
	option = {
		add_manpower = 5000
		name = mordor.3.a
		add_timed_idea = {
			idea = MRD_idea_pogranconflict
			days = 25
		}
		POK = {
			add_timed_idea = {		
				idea = MRD_idea_pogranconflict
				days = 25
			}			
		}
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 516
				num_provinces = 3
				on_win = mordor.4
       			on_lose = mordor.5
			}
			defender = {
				state = 576
				num_provinces = 3
				on_win = mordor.6
       			on_lose = mordor.7
			}
		}
		POK = { country_event = mordor.11 }
	}
	option = {
		name = mordor.3.b
	}
}
country_event = { #Победа_Мордовии_Саурон

	id = mordor.4
        title = mordor.4.t
        desc = mordor.4.d
	picture = GFX_report_event_dkr_sarumyan_s_avtomatom

	is_triggered_only = yes
	
	option = {
		name = mordor.4.a
		custom_effect_tooltip = MRD_uspeshniy_reid_tt
		hidden_effect = {
			add_to_variable = { MRD_monthly_population = 0.05 }
			add_to_variable = { MRD_weekly_manpower = 50 }
		}
		custom_effect_tooltip = MRD_1_monthly_population_tt
		custom_effect_tooltip = MRD_1_weekly_manpower_tt
		set_country_flag = MRD_uspeshniy_reid_country_flag_1
		set_country_flag = MRD_uspeshniy_reid_country_flag_2
		set_country_flag = MRD_uspeshniy_reid_country_flag_3
	}
}
country_event = { #Победа_Покаянии_Саурон

	id = mordor.5
        title = mordor.5.t
        desc = mordor.5.d
	picture = GFX_report_event_dkr_sarumyan_s_avtomatom

	is_triggered_only = yes
	
	option = {
		name = mordor.5.a
	}
}
country_event = { #Победа_Покаянии_Покаян

	id = mordor.6
        title = mordor.6.t
        desc = mordor.6.d
	picture = GFX_report_event_dkr_sarumyan_s_avtomatom

	is_triggered_only = yes
	
	option = {
		name = mordor.6.a
		
	}
}
country_event = { #Победа_Мордовии_Покаян

	id = mordor.7
        title = mordor.7.t
        desc = mordor.7.d
	picture = GFX_report_event_dkr_sarumyan_s_avtomatom

	is_triggered_only = yes
	
	option = {
		name = mordor.7.a
		
	}
}
country_event = { #Проблема_назгулов

	id = mordor.8
        title = mordor.8.t
        desc = mordor.8.d
	picture = GFX_report_event_dkr_sauron_best_boss

	is_triggered_only = yes
	
	option = {
		name = mordor.8.a
		recruit_character = MRD_korol_charodey
		country_event = {
			id = mordor.10
			days = 45
		}
		create_operative_leader = {
			name = "Король-чародей Ангмара"
			GFX = "gfx/leaders/MRD/king_charodey.dds"
			traits = { operative_commando operative_infiltrator }
			bypass_recruitment = no
			available_to_spy_master = no
			nationalities = { MRD LAZ POK }
		}
	}
}
country_event = { #Первый_блин

	id = mordor.9
        title = mordor.9.t
        desc = mordor.9.d
	picture = GFX_report_event_dkr_urki

	is_triggered_only = yes
	
	option = {
		name = mordor.9.a
		hidden_effect = {
			add_to_variable = { MRD_conscription_factor = 0.25 }
			add_to_variable = { MRD_offensive_war_stability_factor = 0.10 }
			add_to_variable = { MRD_weekly_manpower = -5 }
		}
		custom_effect_tooltip = MRD_3_conscription_factor_tt
		custom_effect_tooltip = MRD_2_offensive_war_stability_factor_tt
		custom_effect_tooltip = MRD_1_h_weekly_manpower_tt
	}
}
country_event = { #Пендальфа_завербовали

	id = mordor.10
        title = mordor.10.t
        desc = mordor.10.d
	picture = GFX_report_event_dkr_pendalf_s_trubkoi

	is_triggered_only = yes
	
	option = {
		name = mordor.10.a
		recruit_character = MRD_pendalf
	}
}
country_event = { #Оповещение_о_погранконфликте_для_Покаянии

	id = mordor.11
        title = mordor.11.t
        desc = mordor.11.d
	picture = GFX_report_event_dkr_sarumyan_s_avtomatom

	is_triggered_only = yes
	
	option = {
		name = mordor.11.a
	}
}
country_event = { #Финальные_приготовления

	id = mordor.12
	title = mordor.12.t
	desc = mordor.12.d
	picture = GFX_report_event_dkr_sauron_hvatka

	is_triggered_only = yes
	
	option = {
		name = mordor.12.a
		custom_effect_tooltip = MRD_urki_battalions_spawn_tt
		custom_effect_tooltip = MRD_3_mordor_army_attack_factor_tt
		custom_effect_tooltip = MRD_3_mordor_army_land_night_attack_tt
		custom_effect_tooltip = MRD_3_acclimatization_cold_climate_gain_factor_tt
		hidden_effect = {
			add_to_variable = { MRD_mordor_army_attack_factor = 0.2 }
			add_to_variable = { MRD_mordor_army_land_night_attack = 0.2 }
			add_to_variable = { MRD_acclimatization_cold_climate_gain_factor = 0.2 }
			set_technology = { urki_assault_battalion = 1 popup = no }
			division_template = {
				name = "Дивизия урок"
				division_names_group = MRD_URK_01
				#is_locked = yes
				regiments = {
					urki_assault_battalion = { x = 0 y = 0 }
					urki_assault_battalion = { x = 0 y = 1 }
					urki_assault_battalion = { x = 0 y = 2 }
					urki_assault_battalion = { x = 1 y = 0 }
					urki_assault_battalion = { x = 1 y = 1 }
					urki_assault_battalion = { x = 1 y = 2 }
					urki_assault_battalion = { x = 2 y = 0 }
					urki_assault_battalion = { x = 2 y = 1 }
					urki_assault_battalion = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
			MRD_spawn_urki_divisions_effect = yes
		}
	}
}
country_event = { #Оповещение_о_развале_Покаянии

	id = mordor.13
        title = mordor.13.t
        desc = mordor.13.d
	picture = GFX_report_event_dkr_sauron_hvatka

	is_triggered_only = yes
	
	option = {
		name = mordor.13.a
		set_country_flag = MRD_podgotovka_k_interventsii_country_flag
	}
}
country_event = { #Интервенция_в_гражданскую_войну

	id = mordor.14
        title = mordor.14.t
        desc = mordor.14.d
	picture = GFX_report_event_dkr_sauron_hvatka

	is_triggered_only = yes
	
	option = {
		name = mordor.14.a
		complete_national_focus = MRD_poneslas_mocha_po_trubam
		clr_country_flag = MRD_podgotovka_k_interventsii_country_flag
		declare_war_on = {
			target = POK
			type = annex_everything
		}
		declare_war_on = {
			target = MGN
			type = annex_everything
		}
		declare_war_on = {
			target = OMS
			type = annex_everything
		}
		declare_war_on = {
			target = GAL
			type = annex_everything
		}
		declare_war_on = {
			target = YSK
			type = annex_everything
		}
		declare_war_on = {
			target = ZNS
			type = annex_everything
		}
	}
}
country_event = { #На_случай_если_война_затягивается

	id = mordor.15
        title = mordor.15.t
        desc = mordor.15.d
	picture = GFX_report_event_dkr_sauron_hvatka

	fire_only_once = yes
	
	trigger = {
	    tag = MRD
		MRD = {
			has_war = yes
		}
		has_completed_focus = MRD_seite_razumnoye_dobroye_vechnoye
		NOT = { 
			has_completed_focus = MRD_perdviy_platsdarm_vzyat
			has_idea = MRD_idea_posledniy_ryvok
		}
	}
	
	option = {
		name = mordor.15.a
		hidden_effect = {
			add_to_variable = { MRD_mordor_army_attack_factor = -0.15 }
			add_to_variable = { MRD_mordor_army_defence_factor = -0.15 }
			add_to_variable = { MRD_mordor_army_org_regain = -0.15 }
			add_to_variable = { MRD_mordor_army_org_factor = -0.15 }		
		}
		custom_effect_tooltip = MRD_3_h_mordor_army_attack_factor_tt
		custom_effect_tooltip = MRD_3_h_mordor_army_defence_factor_tt
		custom_effect_tooltip = MRD_3_h_mordor_army_org_regain_tt
		custom_effect_tooltip = MRD_3_h_army_org_factor_tt
	}
}
country_event = { #Победа_в_гражданской_войне

	id = mordor.16
        title = mordor.16.t
        desc = mordor.16.d
	picture = GFX_report_event_dkr_sauron_hvatka

	is_triggered_only = yes
	
	option = {
		name = mordor.16.a
		hidden_effect = {
			remove_dynamic_modifier = { modifier =  MRD_poddaniy_dynamic_modifier }
			add_dynamic_modifier = { modifier = MRD_totalitarism_dynamic_modifier }
			remove_dynamic_modifier = { modifier = MRD_sever_dynamic_modifier }
			add_dynamic_modifier = { modifier = MRD_arbeiten_dynamic_modifier }
			remove_dynamic_modifier = { modifier = MRD_legacy_of_army_dynamic_modifier }
			add_dynamic_modifier = { modifier = MRD_mordor_army_dynamic_modifier }
			set_variable = { MRD_encryption_factor = 0 }
		}
		add_research_slot = 1
		custom_effect_tooltip = MRD_pobeda_tt
		custom_effect_tooltip = MRD_encryption_factor_udalit_bonus_tt
		add_ideas = {
			civilian_economy
			limited_conscription
			closed_economy
		}
		add_timed_idea = {
			idea = MRD_idea_vosstanovleniye_posle_GV
			days = 360
		}
	}
}